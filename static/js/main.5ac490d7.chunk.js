(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),i=a.n(r),l=a(4),o=a(1),s=a(11),u=a(37),m=a(38),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ART_COLLECTIONS":return t.artItem;default:return e}},d=a(10),E={pageSize:10,totalPicturesCount:1e4,currentPage:1,query:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.num});case"SET_LOAD_ITEM":return Object(d.a)(Object(d.a)({},e),{},{pageSize:t.num});case"SET_KEY_WORD":return Object(d.a)(Object(d.a)({},e),{},{query:t.title});default:return e}},p={btnList:[],btnText:10},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BUTTON_LIST":return Object(d.a)(Object(d.a)({},e),{},{btnList:t.btnList});case"SET_BUTTON_TEXT":return Object(d.a)(Object(d.a)({},e),{},{btnText:+t.text});default:return e}},v=function(e){return{type:"SET_LOADING",isLoading:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.isLoading;default:return e}},N=function(e){return{type:"SET_INFO",id:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INFO":return t.id;default:return e}},h=function(e){return{type:"SET_FAVORITE",id:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE":return t.id;default:return e}},T=function(e){return{type:"SET_FAVORITE_CONTENT",addNewFavorite:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE_CONTENT":return t.addNewFavorite;default:return e}},w=function(e){return{type:"SET_ACTION",isAction:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTION":return t.isAction;default:return e}},k=function(e){return{type:"SET_ERROR",isError:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.isError;default:return e}},S=function(e){return e.isFavoriteList},I=function(e){return e.isFavorite},A=function(e){return e.info},R=function(e){return e.isLoading},F=function(e){return e.artCollections},x=Object(s.combineReducers)({artCollections:f,loadingArtItems:b,btnList:_,isLoading:g,info:O,isFavorite:j,isFavoriteList:y,isActiveModal:C,isError:L}),D=Object(s.createStore)(x,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(m.a))),P=a(3),M=a(16),B=a.n(M),U=a(24),W=a(39),H=a.n(W).a.create({responseType:"json"}),V=function(e,t,a){return function(n){n(v(!0)),function(e,t,a){return H.get("".concat("https://www.rijksmuseum.nl/api/en/collection?key=a7LmWCcH","&ps=").concat(t,"&p=").concat(e,"&involvedMaker=").concat(a)).then((function(e){return e.data}))}(e,t,a).then(function(){var e=Object(U.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,{type:"SET_ART_COLLECTIONS",artItem:t};case 3:e.t1=e.sent,(0,e.t0)(e.t1),n(v(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},q=function(e){return function(t){t(v(!0)),function(e){return H.get("https://www.rijksmuseum.nl/api/en/collection/".concat(e,"?key=a7LmWCcH")).then((function(e){return e.data}))}(e).then(function(){var e=Object(U.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,N(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1),t(v(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t(k(!0))}))}},z=a(12),G=a(20),J=function(e){var t=e.art,a=Object(n.useState)(!1),r=Object(G.a)(a,2),i=r[0],s=r[1],u=t.headerImage.url,m=Object(o.c)((function(e){return I(e)})),f=Object(o.c)((function(e){return S(e)})),d=Object(o.c)((function(e){return F(e)})),E=Object(o.b)(),b=d.artObjects;Object(n.useEffect)((function(){p(u)}),[u]);var p=function(e){var t=new Image;t.onload=function(){s(!0)},t.src=e};return c.a.createElement(c.a.Fragment,null,i?c.a.createElement("article",{className:"collection__item"},c.a.createElement("button",{className:"favorite-btn",onClick:function(e){return function(e,t){e.preventDefault();var a=m.findIndex((function(e){return e===t}));E(h(-1===a?[].concat(Object(z.a)(m),[t]):Object(z.a)(m.filter((function(e){return e!==t})))));var n=b.filter((function(e){return e.objectNumber===t})).map((function(e){return e.title})),c=b.filter((function(e){return e.objectNumber===t})).map((function(e){return e.webImage.url})),r={id:t,title:n,url:c};E(T([].concat(Object(z.a)(f),[r])))}(e,t.objectNumber)}},m.includes(t.objectNumber)?c.a.createElement("span",{className:"icon-heart active-favorite"}):c.a.createElement("span",{className:"icon-heart"})),c.a.createElement(l.b,{to:"/".concat(t.objectNumber,"/modal"),className:"collection__link",style:{backgroundImage:"url(".concat(u,")")},onClick:function(){E(w(!0))}},c.a.createElement("p",{className:"collection__text"},t.longTitle))):c.a.createElement("img",{className:"lazy-img",src:"./img/unnamed.png",alt:"Loading unnamed"}))},K=function(e){var t=e.artCollections.artObjects;return c.a.createElement("section",{className:"collection"},t&&!t.length?c.a.createElement("p",{className:"error-message"},"No search information, reload the page!!!"):c.a.createElement("div",{className:"collection__list"},t&&t.map((function(e){return c.a.createElement(J,{key:e.id,art:e})}))))},X=a(40),Y=a.n(X),Q=function(e){var t=e.pagesCount,a=e.currentPage,r=e.handlePageClick,i=e.isLoading;Object(o.c)((function(e){return function(e){var t=e.btnList;t.btnList.forEach((function(e){+e.innerHTML===t.btnText?e.classList.add("active-btn"):e.classList.remove("active-btn")}))}(e)}));var l=Object(o.b)();Object(n.useEffect)((function(){l({type:"SET_BUTTON_LIST",btnList:document.querySelectorAll(".load-items__btn")})}),[l]);var s=function(e){var t=e.target.innerHTML;l({type:"SET_LOAD_ITEM",num:+t})},u=function(e){var t=e.target.innerHTML;l({type:"SET_BUTTON_TEXT",text:t})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("footer",{className:i?"hidden footer":"footer"},c.a.createElement(Y.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:t,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){return r(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",initialPage:a-1}),c.a.createElement("div",{className:"load-items"},c.a.createElement("button",{type:"button",className:"load-items__btn active-btn",onClick:function(e){s(e),u(e)}},"10"),c.a.createElement("button",{type:"button",className:"load-items__btn",onClick:function(e){s(e),u(e)}},"50"),c.a.createElement("button",{type:"button",className:"load-items__btn",onClick:function(e){s(e),u(e)}},"100"))))},Z=function(){var e=Object(o.c)((function(e){return F(e)})),t=Object(o.c)((function(e){return function(e){return e.loadingArtItems}(e)})),a=Object(o.c)((function(e){return R(e)})),r=t.currentPage,i=t.pageSize,l=t.totalPicturesCount,s=t.query,u=Math.ceil(l/i),m=Object(o.b)();return Object(n.useEffect)((function(){m(V(r,i,s))}),[r,i,s,m]),c.a.createElement(c.a.Fragment,null,a?c.a.createElement("div",{className:"loader-box"},c.a.createElement("div",{className:"loader"},"Loading...")):c.a.createElement("main",{className:"wrapper"},c.a.createElement(K,{artCollections:e})),c.a.createElement(Q,{isLoading:a,pagesCount:u,handlePageClick:function(e){m({type:"SET_CURRENT_PAGE",num:e.selected+1})},currentPage:r}))},$=function(){var e=Object(n.useState)(""),t=Object(G.a)(e,2),a=t[0],r=t[1],i=Object(o.c)((function(e){return I(e)})),s=Object(o.b)();return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__wrap"},c.a.createElement(l.b,{to:"/",className:"header__logo"},"Rijksmuseum"),c.a.createElement("form",{action:"#",onSubmit:function(e){return function(e){e.preventDefault(),s({type:"SET_KEY_WORD",title:a}),r("")}(e)},className:"form"},c.a.createElement("input",{type:"text",placeholder:"Search keyword...",value:a,onChange:function(e){return r(e.target.value)},className:"form__input"}),c.a.createElement("button",{type:"submit",className:"form__button"},"Search")),c.a.createElement(l.b,{to:"/favorite",className:"header__link"},c.a.createElement("span",{className:"header__link--count"},i.length))))},ee=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null),c.a.createElement(Z,null))},te=function(){var e=Object(o.c)((function(e){return A(e)})),t=Object(o.c)((function(e){return function(e){return e.isActiveModal}(e)})),a=Object(o.c)((function(e){return R(e)})),r=Object(o.c)((function(e){return function(e){return e.isError}(e)})),i=Object(o.b)(),s=Object(P.g)().id,u=Object(P.f)(),m=e.artObject;Object(n.useEffect)((function(){i(q(s))}),[s,i]);var f=function(){i(w(!1)),i(k(!1))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,null),c.a.createElement("div",{className:t?"modal-wrapper active-modal-wrap":"modal-wrapper"},c.a.createElement("div",{className:"modal-window"},r?c.a.createElement("div",{className:"error-wrapper"},c.a.createElement("p",{className:"error-message"},"Error from server!!!"),c.a.createElement("button",{type:"button",onClick:function(){u.goBack(),f()},className:"modal__btn"},"Close")):m&&c.a.createElement("section",{className:"modal"},a?c.a.createElement("div",{className:"load-spinner"},c.a.createElement("p",{className:"load-spinner__spinner"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{className:"modal__info"},c.a.createElement("img",{src:m.webImage.url,alt:"img",className:"modal__img"}),c.a.createElement("h1",{className:"modal__title"},m.title),c.a.createElement("p",{className:"modal__description"},m.description)),c.a.createElement("div",{className:"modal__btn-box"},c.a.createElement("div",{className:"modal__btn-box--wrapper"},c.a.createElement(l.b,{to:"/".concat(m.objectNumber),className:"modal__btn modal__btn",onClick:f},"View more",c.a.createElement("br",null),"details"),c.a.createElement("button",{type:"button",onClick:function(){u.goBack(),f()},className:"modal__btn"},"Close"))))))))},ae=function(){var e=Object(o.c)((function(e){return A(e)})),t=Object(o.c)((function(e){return R(e)})),a=Object(o.b)(),r=Object(P.g)().id,i=e.artObject;return Object(n.useEffect)((function(){a(q(r))}),[r,a]),c.a.createElement(c.a.Fragment,null,t?c.a.createElement("div",{className:"loader"},"Loading..."):c.a.createElement(c.a.Fragment,null,i&&c.a.createElement("section",{className:"details"},c.a.createElement("div",{className:"wrapper"},c.a.createElement(l.b,{to:"/",className:"back"},c.a.createElement("span",{className:"icon-point-left icon"}),"Back"),c.a.createElement("h1",{className:"details__title"},i.title),c.a.createElement("ul",{className:"details__list"},i.principalMakers.map((function(e){return c.a.createElement("div",{key:e.dateOfBirth},c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Author:"),e.name),c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Period of life:"),e.dateOfBirth," - ",e.dateOfDeath))})),c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Dating:"),i.dating.presentingDate),c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Way of drawing:"),i.physicalMedium)),c.a.createElement("article",{className:"details__content"},c.a.createElement("img",{src:i.webImage.url,alt:"img",className:"details__img"}),c.a.createElement("p",{className:"details__description"},i.label.description))))))},ne=function(){var e=Object(o.c)((function(e){return I(e)})),t=Object(o.c)((function(e){return S(e)})),a=Object(o.b)();return Object(n.useEffect)((function(){a(T(Object(z.a)(t.filter((function(t){return e.includes(t.id)})))))}),[]),c.a.createElement("section",{className:"favorite"},c.a.createElement(l.b,{to:"/",className:"back favorite__back"},c.a.createElement("span",{className:"icon-point-left icon"}),"Back"),t.filter((function(t){return e.includes(t.id)})).map((function(t){return c.a.createElement("ul",{className:"favorite__list",key:t.id},c.a.createElement("li",{className:"favorite__item"},c.a.createElement("div",{className:"favorite__header"},c.a.createElement("h2",{className:"favorite__title"},t.title),c.a.createElement("button",{className:"favorite__btn",type:"button",onClick:function(n){return function(t,n){t.preventDefault(),a(h(Object(z.a)(e.filter((function(e){return e!==n})))))}(n,t.id)}},c.a.createElement("span",{className:"icon-cross"}))),c.a.createElement("div",{className:"favorite__container"},c.a.createElement("img",{className:"favorite__img",src:"".concat(t.url),alt:"".concat(t.title)}))))})))},ce=(a(69),function(){return c.a.createElement("div",{className:"App"},c.a.createElement(P.c,null,c.a.createElement(P.a,{exact:!0,path:"/",component:ee}),c.a.createElement(P.a,{path:"/favorite",component:ne}),c.a.createElement(P.a,{path:"/:id/modal",component:te}),c.a.createElement(P.a,{path:"/:id",component:ae})))});i.a.render(c.a.createElement(o.a,{store:D},c.a.createElement(l.a,null,c.a.createElement(ce,null))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.5ac490d7.chunk.js.map