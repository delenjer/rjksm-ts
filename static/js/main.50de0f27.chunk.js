(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),i=a(4),o=a(1),s=a(11),u=a(37),m=a(38),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ART_COLLECTIONS":return t.artItem;default:return e}},E=a(6),d={pageSize:10,totalPicturesCount:1e4,currentPage:1,query:"",selectValue:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.num});case"SET_LOAD_ITEM":return Object(E.a)(Object(E.a)({},e),{},{pageSize:t.num});case"SET_KEY_WORD":return Object(E.a)(Object(E.a)({},e),{},{query:t.title});case"SET_SELECT_VALUE":return Object(E.a)(Object(E.a)({},e),{},{selectValue:t.value});default:return e}},p={btnList:[],btnText:10},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BUTTON_LIST":return Object(E.a)(Object(E.a)({},e),{},{btnList:t.btnList});case"SET_BUTTON_TEXT":return Object(E.a)(Object(E.a)({},e),{},{btnText:+t.text});default:return e}},v=function(e){return{type:"SET_LOADING",isLoading:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.isLoading;default:return e}},g=function(e){return{type:"SET_INFO",data:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INFO":return t.data;default:return e}},h=function(e){return{type:"SET_FAVORITE",id:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE":return t.id;default:return e}},j=function(e){return{type:"SET_FAVORITE_CONTENT",addNewFavorite:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE_CONTENT":return t.addNewFavorite;default:return e}},S=function(e){return{type:"SET_ACTION",isAction:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTION":return t.isAction;default:return e}},C=function(e){return{type:"SET_ERROR",isError:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.isError;default:return e}},L=function(e){return e.isFavoriteList},I=function(e){return e.isFavorite},A=function(e){return e.info},R=function(e){return e.isLoading},F=function(e){return e.artCollections},x=Object(s.combineReducers)({artCollections:f,loadingArtItems:b,btnList:_,isLoading:N,info:O,isFavorite:T,isFavoriteList:y,isActiveModal:w,isError:k}),D=Object(s.createStore)(x,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(m.a))),M=a(3),P=a(12),B=a(20),V=function(){return r.a.createElement("img",{className:"lazy-img",src:"./img/unnamed.png",alt:"Loading unnamed"})},U=a(16),W=a.n(U),q=a(24),z=a(39),G=a.n(z).a.create({responseType:"json"}),H=function(e,t,a,n){return function(r){r(v(!0)),function(e,t,a,n){return G.get("".concat("https://www.rijksmuseum.nl/api/en/collection?key=a7LmWCcH","&s=").concat(n,"&ps=").concat(t,"&p=").concat(e,"&involvedMaker=").concat(a)).then((function(e){return e.data}))}(e,t,a,n).then(function(){var e=Object(q.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,{type:"SET_ART_COLLECTIONS",artItem:t};case 3:e.t1=e.sent,(0,e.t0)(e.t1),r(v(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},Q=function(e){return function(t){(function(e){return G.get("https://www.rijksmuseum.nl/api/en/collection/".concat(e,"?key=a7LmWCcH")).then((function(e){return e.data}))})(e).then(function(){var e=Object(q.a)(W.a.mark((function e(a){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,g(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t(C(!0))}))}},J=function(e){var t=e.art,a=Object(n.useState)(!1),c=Object(B.a)(a,2),l=c[0],s=c[1],u=t.headerImage.url,m=Object(o.c)((function(e){return I(e)})),f=Object(o.c)((function(e){return L(e)})),E=Object(o.c)((function(e){return F(e)})),d=Object(o.b)(),b=E.artObjects;Object(n.useEffect)((function(){p(u)}),[u]);var p=function(e){var t=new Image;t.onload=function(){s(!0)},t.src=e};return r.a.createElement(r.a.Fragment,null,l?r.a.createElement("article",{className:"collection__item"},r.a.createElement("button",{className:"favorite-btn",onClick:function(e){return function(e,t){e.preventDefault();var a=m.findIndex((function(e){return e===t}));d(h(-1===a?[].concat(Object(P.a)(m),[t]):Object(P.a)(m.filter((function(e){return e!==t})))));var n=b.filter((function(e){return e.objectNumber===t})).map((function(e){return e.title})),r=b.filter((function(e){return e.objectNumber===t})).map((function(e){return e.webImage.url})),c={id:t,title:n,url:r};d(j([].concat(Object(P.a)(f),[c])))}(e,t.objectNumber)}},m.includes(t.objectNumber)?r.a.createElement("span",{className:"icon-heart active-favorite"}):r.a.createElement("span",{className:"icon-heart"})),r.a.createElement(i.b,{to:"/",className:"collection__link",style:{backgroundImage:"url(".concat(u,")")},onClick:function(e){return function(e,t){e.preventDefault(),d(S(!0)),d(Q(t))}(e,t.objectNumber)}},r.a.createElement("p",{className:"collection__text"},t.longTitle))):r.a.createElement(V,null))},K=function(e){var t=e.artCollections.artObjects;return r.a.createElement("section",{className:"collection"},t&&!t.length?r.a.createElement("p",{className:"error-message"},"No search information, reload the page!!!"):r.a.createElement("div",{className:"collection__list"},t&&t.map((function(e){return r.a.createElement(J,{key:e.id,art:e})}))))},X=function(){var e=Object(o.c)((function(e){return F(e)})),t=Object(o.c)((function(e){return R(e)}));return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"loader-box"},r.a.createElement("div",{className:"loader"},"Loading...")):r.a.createElement("main",{className:"wrapper"},r.a.createElement(K,{artCollections:e})))},Y=function(e){var t=e.handleSubmit,a=e.handleSelect,n=e.isQuery,c=e.setQuery;return r.a.createElement("section",{className:"service"},r.a.createElement("select",{name:"s",className:"select-sort",onChange:function(e){return a(e)}},r.a.createElement("option",{value:""},"Order by:"),r.a.createElement("option",{value:"relevance"},"Relevance"),r.a.createElement("option",{value:"objecttype"},"Object type"),r.a.createElement("option",{value:"chronologic"},"Chronological old ",">"," new")),r.a.createElement("form",{action:"#",onSubmit:function(e){return t(e)},className:"form"},r.a.createElement("input",{type:"text",placeholder:"Search keyword...",value:n,onChange:function(e){return c(e.target.value)},className:"form__input"}),r.a.createElement("button",{type:"submit",className:"form__button"},"Search")))},Z=function(){var e=Object(n.useState)(""),t=Object(B.a)(e,2),a=t[0],c=t[1],l=Object(o.c)((function(e){return I(e)})),s=Object(o.b)();return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__wrap"},r.a.createElement(i.b,{to:"/",className:"header__logo"},"Rijksmuseum"),r.a.createElement(Y,{handleSubmit:function(e){e.preventDefault(),s({type:"SET_KEY_WORD",title:a}),c("")},handleSelect:function(e){s({type:"SET_SELECT_VALUE",value:e.target.value})},setQuery:c,isQuery:a}),r.a.createElement(i.b,{to:"/favorite",className:"header__link"},r.a.createElement("span",{className:"header__link--count"},l.length))))},$=function(){var e=Object(o.c)((function(e){return A(e)})),t=Object(o.c)((function(e){return function(e){return e.isActiveModal}(e)})),a=Object(o.c)((function(e){return function(e){return e.isError}(e)})),n=Object(o.b)(),c=e.artObject,l=function(){n(S(!1)),n(C(!1))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t?"modal-wrapper active-modal-wrap":"modal-wrapper"},r.a.createElement("div",{className:"modal-window"},a?r.a.createElement("div",{className:"error-wrapper"},r.a.createElement("p",{className:"error-message"},"Error from server!!!"),r.a.createElement("button",{type:"button",onClick:l,className:"modal__btn"},"Close")):c&&r.a.createElement("section",{className:"modal"},r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"modal__info"},r.a.createElement("img",{src:c.webImage.url,alt:"img",className:"modal__img"}),r.a.createElement("h1",{className:"modal__title"},c.title),r.a.createElement("p",{className:"modal__description"},c.description)),r.a.createElement("div",{className:"modal__btn-box"},r.a.createElement("div",{className:"modal__btn-box--wrapper"},r.a.createElement(i.b,{to:"/details",className:"modal__btn modal__btn",onClick:l},"View more",r.a.createElement("br",null),"details"),r.a.createElement("button",{type:"button",onClick:l,className:"modal__btn"},"Close"))))))))},ee=a(40),te=a.n(ee),ae=function(){var e=Object(o.c)((function(e){return R(e)})),t=Object(o.c)((function(e){return function(e){return e.loadingArtItems}(e)})),a=t.currentPage,c=t.pageSize,l=t.totalPicturesCount,i=t.query,s=t.selectValue,u=Math.ceil(l/c),m=Object(o.b)();Object(n.useEffect)((function(){m(H(a,c,i,s))}),[a,c,i,s]),Object(n.useEffect)((function(){m({type:"SET_BUTTON_LIST",btnList:document.querySelectorAll(".load-items__btn")})}),[m]);var f=function(e){var t=e.target.innerHTML;m({type:"SET_LOAD_ITEM",num:+t})},E=function(e){var t=e.target.innerHTML;m({type:"SET_BUTTON_TEXT",text:t})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:e?"hidden footer":"footer"},r.a.createElement(te.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:u,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){return function(e){m({type:"SET_CURRENT_PAGE",num:e.selected+1})}(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",initialPage:a-1}),r.a.createElement("div",{className:"load-items"},r.a.createElement("button",{type:"button",className:"load-items__btn active-btn",onClick:function(e){f(e),E(e)}},"10"),r.a.createElement("button",{type:"button",className:"load-items__btn",onClick:function(e){f(e),E(e)}},"50"),r.a.createElement("button",{type:"button",className:"load-items__btn",onClick:function(e){f(e),E(e)}},"100"))))},ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement(X,null),r.a.createElement($,null),r.a.createElement(ae,null))},re=function(){var e=Object(o.c)((function(e){return A(e)})).artObject;return r.a.createElement("section",{className:"details"},r.a.createElement("div",{className:"wrapper"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/",className:"back"},r.a.createElement("span",{className:"icon-point-left icon"}),"Back"),r.a.createElement("h1",{className:"details__title"},e.title),r.a.createElement("ul",{className:"details__list"},e.principalMakers.map((function(e){return r.a.createElement("div",{key:e.dateOfBirth},r.a.createElement("li",{className:"details__item"},r.a.createElement("span",{className:"details__item--title"},"Author:"),e.name),r.a.createElement("li",{className:"details__item"},r.a.createElement("span",{className:"details__item--title"},"Period of life:"),e.dateOfBirth," - ",e.dateOfDeath))})),r.a.createElement("li",{className:"details__item"},r.a.createElement("span",{className:"details__item--title"},"Dating:"),e.dating.presentingDate),r.a.createElement("li",{className:"details__item"},r.a.createElement("span",{className:"details__item--title"},"Way of drawing:"),e.physicalMedium)),r.a.createElement("article",{className:"details__content"},r.a.createElement("img",{src:e.webImage.url,alt:"img",className:"details__img"}),r.a.createElement("p",{className:"details__description"},e.label.description))):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/",className:"back"},r.a.createElement("span",{className:"icon-point-left icon"}),"Back"),r.a.createElement("h1",{className:"error-message"},"No results"))))},ce=function(){var e=Object(o.c)((function(e){return I(e)})),t=Object(o.c)((function(e){return L(e)})),a=Object(o.b)();return Object(n.useEffect)((function(){a(j(Object(P.a)(t.filter((function(t){return e.includes(t.id)})))))}),[]),r.a.createElement("section",{className:"favorite"},r.a.createElement(i.b,{to:"/",className:"back favorite__back"},r.a.createElement("span",{className:"icon-point-left icon"}),"Back"),t.filter((function(t){return e.includes(t.id)})).map((function(t){return r.a.createElement("ul",{className:"favorite__list",key:t.id},r.a.createElement("li",{className:"favorite__item"},r.a.createElement("div",{className:"favorite__header"},r.a.createElement("h2",{className:"favorite__title"},t.title),r.a.createElement("button",{className:"favorite__btn",type:"button",onClick:function(n){return function(t,n){t.preventDefault(),a(h(Object(P.a)(e.filter((function(e){return e!==n})))))}(n,t.id)}},r.a.createElement("span",{className:"icon-cross"}))),r.a.createElement("div",{className:"favorite__container"},r.a.createElement("img",{className:"favorite__img",src:"".concat(t.url),alt:"".concat(t.title)}))))})))},le=(a(69),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M.c,null,r.a.createElement(M.a,{exact:!0,path:"/",component:ne}),r.a.createElement(M.a,{path:"/favorite",component:ce}),r.a.createElement(M.a,{path:"/details",component:re})))});l.a.render(r.a.createElement(o.a,{store:D},r.a.createElement(i.a,null,r.a.createElement(le,null))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.50de0f27.chunk.js.map