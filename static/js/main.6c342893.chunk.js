(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),i=a(5),o=a(1),s=a(11),u=a(37),m=a(38),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ART_COLLECTIONS":return t.artItem;default:return e}},E=a(4),d={pageSize:10,totalPicturesCount:null,currentPage:1,query:"",selectValue:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.num});case"SET_TOTAL_COUNT":return console.log(t.num),Object(E.a)(Object(E.a)({},e),{},{totalPicturesCount:t.num});case"SET_LOAD_ITEM":return Object(E.a)(Object(E.a)({},e),{},{pageSize:t.num});case"SET_KEY_WORD":return Object(E.a)(Object(E.a)({},e),{},{query:t.title});case"SET_SELECT_VALUE":return Object(E.a)(Object(E.a)({},e),{},{selectValue:t.value});default:return e}},p={btnList:[],btnText:10},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BUTTON_LIST":return Object(E.a)(Object(E.a)({},e),{},{btnList:t.btnList});case"SET_BUTTON_TEXT":return Object(E.a)(Object(E.a)({},e),{},{btnText:+t.text});default:return e}},v=function(e){return{type:"SET_LOADING",isLoading:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.isLoading;default:return e}},g=function(e){return{type:"SET_INFO",data:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INFO":return t.data;default:return e}},h=function(e){return{type:"SET_FAVORITE",id:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE":return t.id;default:return e}},j=function(e){return{type:"SET_FAVORITE_CONTENT",addNewFavorite:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE_CONTENT":return t.addNewFavorite;default:return e}},S=function(e){return{type:"SET_ACTION",isAction:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTION":return t.isAction;default:return e}},w=function(e){return{type:"SET_ERROR",isError:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.isError;default:return e}},k=function(e){return e.isFavoriteList},I=function(e){return e.isFavorite},A=function(e){return e.info},R=function(e){return e.isLoading},F=function(e){return e.artCollections},x=Object(s.combineReducers)({artCollections:f,loadingArtItems:b,btnList:_,isLoading:N,info:O,isFavorite:T,isFavoriteList:y,isActiveModal:C,isError:L}),D=Object(s.createStore)(x,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(m.a))),M=a(3),P=a(12),B=a(20),U=function(){return c.a.createElement("img",{className:"lazy-img",src:"./img/unnamed.png",alt:"Loading unnamed"})},V=a(16),W=a.n(V),H=a(24),q=a(39),z=a.n(q).a.create({responseType:"json"}),G=function(e,t,a,n){return function(c){c(v(!0)),function(e,t,a,n){return z.get("".concat("https://www.rijksmuseum.nl/api/en/collection?key=a7LmWCcH","&s=").concat(n,"&ps=").concat(t,"&p=").concat(e,"&involvedMaker=").concat(a)).then((function(e){return e.data}))}(e,t,a,n).then(function(){var e=Object(H.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,{type:"SET_ART_COLLECTIONS",artItem:t};case 3:e.t1=e.sent,(0,e.t0)(e.t1),c(v(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},Q=function(e){return function(t){(function(e){return z.get("https://www.rijksmuseum.nl/api/en/collection/".concat(e,"?key=a7LmWCcH")).then((function(e){return e.data}))})(e).then(function(){var e=Object(H.a)(W.a.mark((function e(a){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,g(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t(w(!0))}))}},J=function(e){var t=e.art,a=Object(n.useState)(!1),r=Object(B.a)(a,2),l=r[0],s=r[1],u=t.headerImage.url,m=Object(o.c)((function(e){return I(e)})),f=Object(o.c)((function(e){return k(e)})),E=Object(o.c)((function(e){return F(e)})),d=Object(o.b)(),b=E.artObjects;Object(n.useEffect)((function(){p(u)}),[u]);var p=function(e){var t=new Image;t.onload=function(){s(!0)},t.src=e};return c.a.createElement(c.a.Fragment,null,l?c.a.createElement("article",{className:"collection__item"},c.a.createElement("button",{className:"favorite-btn",onClick:function(e){return function(e,t){e.preventDefault();var a=m.findIndex((function(e){return e===t}));d(h(-1===a?[].concat(Object(P.a)(m),[t]):Object(P.a)(m.filter((function(e){return e!==t})))));var n=b.filter((function(e){return e.objectNumber===t})).map((function(e){return e.title})),c=b.filter((function(e){return e.objectNumber===t})).map((function(e){return e.webImage.url})),r={id:t,title:n,url:c};d(j([].concat(Object(P.a)(f),[r])))}(e,t.objectNumber)}},m.includes(t.objectNumber)?c.a.createElement("span",{className:"icon-heart active-favorite"}):c.a.createElement("span",{className:"icon-heart"})),c.a.createElement(i.b,{to:"/",className:"collection__link",style:{backgroundImage:"url(".concat(u,")")},onClick:function(e){return function(e,t){e.preventDefault(),d(S(!0)),d(Q(t))}(e,t.objectNumber)}},c.a.createElement("p",{className:"collection__text"},t.longTitle))):c.a.createElement(U,null))},K=function(e){var t=e.artCollections.artObjects;return c.a.createElement("section",{className:"collection"},t&&!t.length?c.a.createElement("p",{className:"error-message"},"No search information, reload the page!!!"):c.a.createElement("div",{className:"collection__list"},t&&t.map((function(e){return c.a.createElement(J,{key:e.id,art:e})}))))},X=function(){var e=Object(o.c)((function(e){return F(e)})),t=Object(o.c)((function(e){return R(e)})),a=Object(o.b)();return Object(n.useEffect)((function(){var t=e.count>1e4?1e4:e.count;a({type:"SET_TOTAL_COUNT",num:t})}),[e]),c.a.createElement(c.a.Fragment,null,t?c.a.createElement("div",{className:"loader-box"},c.a.createElement("div",{className:"loader"},"Loading...")):c.a.createElement("main",{className:"wrapper"},c.a.createElement(K,{artCollections:e})))},Y=function(e){var t=e.handleSubmit,a=e.handleSelect,n=e.isQuery,r=e.setQuery;return c.a.createElement("section",{className:"service"},c.a.createElement("select",{name:"s",className:"select-sort",onChange:function(e){return a(e)}},c.a.createElement("option",{value:""},"Order by:"),c.a.createElement("option",{value:"relevance"},"Relevance"),c.a.createElement("option",{value:"objecttype"},"Object type"),c.a.createElement("option",{value:"chronologic"},"Chronological old ",">"," new")),c.a.createElement("form",{action:"#",onSubmit:function(e){return t(e)},className:"form"},c.a.createElement("input",{type:"text",placeholder:"Search keyword...",value:n,onChange:function(e){return r(e.target.value)},className:"form__input"}),c.a.createElement("button",{type:"submit",className:"form__button"},"Search")))},Z=function(){var e=Object(n.useState)(""),t=Object(B.a)(e,2),a=t[0],r=t[1],l=Object(o.c)((function(e){return I(e)})),s=Object(o.b)();return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__wrap"},c.a.createElement(i.b,{to:"/",className:"header__logo"},"Rijksmuseum"),c.a.createElement(Y,{handleSubmit:function(e){e.preventDefault(),s({type:"SET_KEY_WORD",title:a}),r("")},handleSelect:function(e){s({type:"SET_SELECT_VALUE",value:e.target.value})},setQuery:r,isQuery:a}),c.a.createElement(i.b,{to:"/favorite",className:"header__link"},c.a.createElement("span",{className:"header__link--count"},l.length))))},$=function(){var e=Object(o.c)((function(e){return A(e)})),t=Object(o.c)((function(e){return function(e){return e.isActiveModal}(e)})),a=Object(o.c)((function(e){return function(e){return e.isError}(e)})),n=Object(o.b)(),r=e.artObject,l=function(){n(S(!1)),n(w(!1))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t?"modal-wrapper active-modal-wrap":"modal-wrapper"},c.a.createElement("div",{className:"modal-window"},a?c.a.createElement("div",{className:"error-wrapper"},c.a.createElement("p",{className:"error-message"},"Error from server!!!"),c.a.createElement("button",{type:"button",onClick:l,className:"modal__btn"},"Close")):r&&c.a.createElement("section",{className:"modal"},c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{className:"modal__info"},c.a.createElement("img",{src:r.webImage.url,alt:"img",className:"modal__img"}),c.a.createElement("h1",{className:"modal__title"},r.title),c.a.createElement("p",{className:"modal__description"},r.description)),c.a.createElement("div",{className:"modal__btn-box"},c.a.createElement("div",{className:"modal__btn-box--wrapper"},c.a.createElement(i.b,{to:"/details",className:"modal__btn modal__btn",onClick:l},"View more",c.a.createElement("br",null),"details"),c.a.createElement("button",{type:"button",onClick:l,className:"modal__btn"},"Close"))))))))},ee=a(40),te=a.n(ee),ae=function(){Object(o.c)((function(e){return function(e){var t=e.btnList;t.btnList.forEach((function(e){+e.innerHTML===t.btnText?e.classList.add("active-btn"):e.classList.remove("active-btn")}))}(e)}));var e=Object(o.c)((function(e){return R(e)})),t=Object(o.c)((function(e){return function(e){return e.loadingArtItems}(e)})),a=t.currentPage,r=t.pageSize,l=t.totalPicturesCount,i=t.query,s=t.selectValue,u=Object(o.b)(),m=Math.ceil(l/r);Object(n.useEffect)((function(){u(G(a,r,i,s))}),[a,r,i,s,l]),Object(n.useEffect)((function(){u({type:"SET_BUTTON_LIST",btnList:document.querySelectorAll(".load-items__btn")})}),[u]);var f=function(e){var t=e.target.innerHTML;u({type:"SET_LOAD_ITEM",num:+t})},E=function(e){var t=e.target.innerHTML;u({type:"SET_BUTTON_TEXT",text:t})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("footer",{className:e?"hidden footer":"footer"},c.a.createElement(te.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:m,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){return function(e){u({type:"SET_CURRENT_PAGE",num:e.selected+1})}(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",initialPage:a-1}),c.a.createElement("div",{className:"load-items"},c.a.createElement("button",{type:"button",className:"load-items__btn active-btn",onClick:function(e){f(e),E(e)}},"10"),c.a.createElement("button",{type:"button",className:"load-items__btn",onClick:function(e){f(e),E(e)}},"50"),c.a.createElement("button",{type:"button",className:"load-items__btn",onClick:function(e){f(e),E(e)}},"100"))))},ne=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,null),c.a.createElement(X,null),c.a.createElement($,null),c.a.createElement(ae,null))},ce=function(){var e=Object(o.c)((function(e){return A(e)})).artObject;return c.a.createElement("section",{className:"details"},c.a.createElement("div",{className:"wrapper"},e?c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{to:"/",className:"back"},c.a.createElement("span",{className:"icon-point-left icon"}),"Back"),c.a.createElement("h1",{className:"details__title"},e.title),c.a.createElement("ul",{className:"details__list"},e.principalMakers.map((function(e){return c.a.createElement("div",{key:e.dateOfBirth},c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Author:"),e.name),c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Period of life:"),e.dateOfBirth," - ",e.dateOfDeath))})),c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Dating:"),e.dating.presentingDate),c.a.createElement("li",{className:"details__item"},c.a.createElement("span",{className:"details__item--title"},"Way of drawing:"),e.physicalMedium)),c.a.createElement("article",{className:"details__content"},c.a.createElement("img",{src:e.webImage.url,alt:"img",className:"details__img"}),c.a.createElement("p",{className:"details__description"},e.label.description))):c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{to:"/",className:"back"},c.a.createElement("span",{className:"icon-point-left icon"}),"Back"),c.a.createElement("h1",{className:"error-message"},"No results"))))},re=function(){var e=Object(o.c)((function(e){return I(e)})),t=Object(o.c)((function(e){return k(e)})),a=Object(o.b)();return Object(n.useEffect)((function(){a(j(Object(P.a)(t.filter((function(t){return e.includes(t.id)})))))}),[]),c.a.createElement("section",{className:"favorite"},c.a.createElement(i.b,{to:"/",className:"back favorite__back"},c.a.createElement("span",{className:"icon-point-left icon"}),"Back"),t.filter((function(t){return e.includes(t.id)})).map((function(t){return c.a.createElement("ul",{className:"favorite__list",key:t.id},c.a.createElement("li",{className:"favorite__item"},c.a.createElement("div",{className:"favorite__header"},c.a.createElement("h2",{className:"favorite__title"},t.title),c.a.createElement("button",{className:"favorite__btn",type:"button",onClick:function(n){return function(t,n){t.preventDefault(),a(h(Object(P.a)(e.filter((function(e){return e!==n})))))}(n,t.id)}},c.a.createElement("span",{className:"icon-cross"}))),c.a.createElement("div",{className:"favorite__container"},c.a.createElement("img",{className:"favorite__img",src:"".concat(t.url),alt:"".concat(t.title)}))))})))},le=(a(69),function(){return c.a.createElement("div",{className:"App"},c.a.createElement(M.c,null,c.a.createElement(M.a,{exact:!0,path:"/",component:ne}),c.a.createElement(M.a,{path:"/favorite",component:re}),c.a.createElement(M.a,{path:"/details",component:ce})))});l.a.render(c.a.createElement(o.a,{store:D},c.a.createElement(i.a,null,c.a.createElement(le,null))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.6c342893.chunk.js.map